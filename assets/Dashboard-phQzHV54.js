import{u as f,L as h}from"./LockGrid-Dfyb7EMU.js";import{u as _}from"./utils-BKUfGzfw.js";import{_ as m}from"./index-B5R-pJG6.js";import{A as b,B as k,E as p,c as g,v as x,f as s,g as a,t as l,u as o,n as L,y as w}from"./vendor-vMbJagej.js";const y={class:"dashboard"},A={class:"container is-fluid"},z={class:"columns is-multiline is-mobile mb-5"},D={class:"column is-6-mobile is-3-desktop"},S={class:"card glass-effect stats-card"},C={class:"card-content has-text-centered"},B={class:"level is-mobile"},N={class:"level-left"},R={class:"title is-4-mobile is-3-desktop"},T={class:"column is-6-mobile is-3-desktop"},V={class:"card glass-effect stats-card"},E={class:"card-content has-text-centered"},O={class:"level is-mobile"},U={class:"level-left"},G={class:"title is-4-mobile is-3-desktop has-text-success"},I={class:"column is-6-mobile is-3-desktop"},M={class:"card glass-effect stats-card"},P={class:"card-content has-text-centered"},Q={class:"level is-mobile"},j={class:"level-left"},q={class:"title is-4-mobile is-3-desktop has-text-warning"},F={class:"column is-6-mobile is-3-desktop"},H={class:"card glass-effect stats-card"},J={class:"card-content has-text-centered"},K={class:"level is-mobile"},W={class:"level-left"},X={class:"title is-4-mobile is-3-desktop has-text-danger"},Y={class:"columns mb-5"},Z={class:"column"},$={class:"card glass-effect"},ss={class:"card-content"},ts={class:"buttons is-centered-mobile"},es=["disabled"],is=["disabled"],ls={class:"columns"},os={class:"column"},as={class:"card glass-effect"},cs={class:"card-content"},ds={__name:"Dashboard",setup(ns){const e=f(),d=_(),i=b(!1),n=k(()=>e.locks.slice().sort((c,t)=>new Date(t.lastActivity)-new Date(c.lastActivity)).slice(0,4)),r=async()=>{await e.lockAll()},u=async()=>{await e.unlockAll()},v=async()=>{i.value=!0,await e.fetchLocks(),d.success("Status refreshed"),i.value=!1};return p(async()=>{await e.fetchLocks(),e.startPolling()}),(c,t)=>(x(),g("div",y,[s("div",A,[t[13]||(t[13]=s("div",{class:"columns"},[s("div",{class:"column"},[s("h1",{class:"title is-2 mb-5 has-text-white dashboard-title"},[s("i",{class:"fas fa-tachometer-alt mr-3"}),a(" Dashboard ")])])],-1)),s("div",z,[s("div",D,[s("div",S,[s("div",C,[s("div",B,[s("div",N,[s("div",null,[t[0]||(t[0]=s("p",{class:"heading"},"Total Locks",-1)),s("p",R,l(o(e).locks.length),1)])]),t[1]||(t[1]=s("div",{class:"level-right"},[s("i",{class:"fas fa-key is-size-3-mobile is-size-2-desktop has-text-info"})],-1))])])])]),s("div",T,[s("div",V,[s("div",E,[s("div",O,[s("div",U,[s("div",null,[t[2]||(t[2]=s("p",{class:"heading"},"Online",-1)),s("p",G,l(o(e).onlineLocks.length),1)])]),t[3]||(t[3]=s("div",{class:"level-right"},[s("i",{class:"fas fa-wifi is-size-3-mobile is-size-2-desktop has-text-success"})],-1))])])])]),s("div",I,[s("div",M,[s("div",P,[s("div",Q,[s("div",j,[s("div",null,[t[4]||(t[4]=s("p",{class:"heading"},"Locked",-1)),s("p",q,l(o(e).lockedCount),1)])]),t[5]||(t[5]=s("div",{class:"level-right"},[s("i",{class:"fas fa-lock is-size-3-mobile is-size-2-desktop has-text-warning"})],-1))])])])]),s("div",F,[s("div",H,[s("div",J,[s("div",K,[s("div",W,[s("div",null,[t[6]||(t[6]=s("p",{class:"heading"},"Offline",-1)),s("p",X,l(o(e).offlineLocks.length),1)])]),t[7]||(t[7]=s("div",{class:"level-right"},[s("i",{class:"fas fa-wifi-slash is-size-3-mobile is-size-2-desktop has-text-danger"})],-1))])])])])]),s("div",Y,[s("div",Z,[s("div",$,[t[11]||(t[11]=s("div",{class:"card-header"},[s("p",{class:"card-header-title"},[s("i",{class:"fas fa-bolt mr-2"}),a(" Quick Actions ")])],-1)),s("div",ss,[s("div",ts,[s("button",{class:"button is-success is-rounded touch-button",onClick:r,disabled:i.value},[...t[8]||(t[8]=[s("i",{class:"fas fa-lock mr-2"},null,-1),s("span",{class:"is-hidden-mobile"},"Lock All",-1),s("span",{class:"is-hidden-tablet"},"Lock",-1)])],8,es),s("button",{class:"button is-warning is-rounded touch-button",onClick:u,disabled:i.value},[...t[9]||(t[9]=[s("i",{class:"fas fa-unlock mr-2"},null,-1),s("span",{class:"is-hidden-mobile"},"Unlock All",-1),s("span",{class:"is-hidden-tablet"},"Unlock",-1)])],8,is),s("button",{class:L(["button is-info is-rounded touch-button",{"is-loading":i.value}]),onClick:v},[...t[10]||(t[10]=[s("i",{class:"fas fa-sync mr-2"},null,-1),s("span",{class:"is-hidden-mobile"},"Refresh Status",-1),s("span",{class:"is-hidden-tablet"},"Refresh",-1)])],2)])])])])]),s("div",ls,[s("div",os,[s("div",as,[t[12]||(t[12]=s("div",{class:"card-header"},[s("p",{class:"card-header-title"},[s("i",{class:"fas fa-history mr-2"}),a(" Recent Activity ")])],-1)),s("div",cs,[w(h,{locks:n.value},null,8,["locks"])])])])])])]))}},hs=m(ds,[["__scopeId","data-v-90bd112a"]]);export{hs as default};
