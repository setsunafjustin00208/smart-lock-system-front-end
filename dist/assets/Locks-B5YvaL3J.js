import{A as c,B as r,E as b,G as S,c as k,v,f as s,b as y,g as A,n as d,M as m,P as p,t as _,u as B}from"./vendor-DfHZLmVz.js";import{u as M,L as z}from"./LockGrid-maN6HrFG.js";import{u as E}from"./utils-BVVFTmOF.js";import{_ as T}from"./index-BOl8aQ0f.js";const U={class:"locks-view"},V={class:"container is-fluid"},O={class:"columns"},C={class:"column is-narrow"},D={class:"control"},G={class:"control"},N={class:"select"},R={value:"all"},W={class:"control"},I={class:"select"},P={value:"all"},j={key:0,class:"has-text-centered"},q={__name:"Locks",setup(F){const a=M(),L=E(),n=c("all"),i=c("all"),u=c(!1),o=c(window.innerWidth<=1023),f=()=>{o.value=window.innerWidth<=1023},w=r(()=>o.value?"All":"All Status"),h=r(()=>o.value?"All":"All Locks"),g=r(()=>{let t=a.locks;if(n.value!=="all"){const e=n.value==="online";t=t.filter(l=>l.is_online===e)}if(i.value!=="all"){const e=i.value==="locked";t=t.filter(l=>l.status?.is_locked===e)}return t}),x=async()=>{u.value=!0,await a.fetchLocks(),L.success("Locks refreshed"),u.value=!1};return b(async()=>{await a.fetchLocks(),window.addEventListener("resize",f)}),S(()=>{window.removeEventListener("resize",f)}),(t,e)=>(v(),k("div",U,[s("div",V,[s("div",O,[e[6]||(e[6]=s("div",{class:"column"},[s("h1",{class:"title is-2 has-text-white mb-5"},[s("i",{class:"fas fa-key mr-3"}),A(" Lock Management ")])],-1)),s("div",C,[s("div",{class:d(["field is-grouped is-grouped-multiline",{"mb-2":o.value}])},[s("div",D,[s("button",{class:d(["button is-info refresh-btn",{"is-loading":u.value,"is-small":o.value,"pb-2":!o.value}]),onClick:x},[s("i",{class:d(["fas fa-sync",{"mt-1":!o.value,"mr-2":!o.value}])},null,2),s("span",{class:d({"mt-1":!o.value})},"Refresh",2)],2)]),s("div",G,[s("div",N,[m(s("select",{"onUpdate:modelValue":e[0]||(e[0]=l=>n.value=l)},[s("option",R,_(w.value),1),e[2]||(e[2]=s("option",{value:"online"},"Online",-1)),e[3]||(e[3]=s("option",{value:"offline"},"Offline",-1))],512),[[p,n.value]])])]),s("div",W,[s("div",I,[m(s("select",{"onUpdate:modelValue":e[1]||(e[1]=l=>i.value=l)},[s("option",P,_(h.value),1),e[4]||(e[4]=s("option",{value:"locked"},"Locked",-1)),e[5]||(e[5]=s("option",{value:"unlocked"},"Unlocked",-1))],512),[[p,i.value]])])])],2)])]),B(a).loading?(v(),k("div",j,[...e[7]||(e[7]=[s("div",{class:"loader"},null,-1),s("p",{class:"has-text-white mt-3"},"Loading locks...",-1)])])):(v(),y(z,{key:1,locks:g.value},null,8,["locks"]))])]))}},X=T(q,[["__scopeId","data-v-c677fd46"]]);export{X as default};
