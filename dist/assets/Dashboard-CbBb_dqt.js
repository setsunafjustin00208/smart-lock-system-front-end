import{u as v,L as f}from"./LockGrid-Dy7NYaax.js";import{u as _}from"./utils-B3c4Ll7F.js";import{_ as m}from"./index-B0M_-d5M.js";import{A as k,B as b,G as p,c as g,v as x,f as s,g as d,h as l,u as a,n as w,y as L}from"./vendor-s0BuhqT6.js";const y={class:"dashboard"},z={class:"container is-fluid"},A={class:"columns is-multiline is-mobile mb-5"},B={class:"column is-6-mobile is-3-desktop"},D={class:"card glass-effect stats-card"},S={class:"card-content has-text-centered"},C={class:"level is-mobile"},T={class:"level-left"},R={class:"title is-4-mobile is-3-desktop has-text-white"},U={class:"column is-6-mobile is-3-desktop"},N={class:"card glass-effect stats-card"},V={class:"card-content has-text-centered"},G={class:"level is-mobile"},$={class:"level-left"},q={class:"title is-4-mobile is-3-desktop has-text-success"},E={class:"column is-6-mobile is-3-desktop"},I={class:"card glass-effect stats-card"},M={class:"card-content has-text-centered"},O={class:"level is-mobile"},P={class:"level-left"},Q={class:"title is-4-mobile is-3-desktop has-text-warning"},j={class:"column is-6-mobile is-3-desktop"},F={class:"card glass-effect stats-card"},H={class:"card-content has-text-centered"},J={class:"level is-mobile"},K={class:"level-left"},W={class:"title is-4-mobile is-3-desktop has-text-danger"},X={class:"columns mb-5"},Y={class:"column"},Z={class:"card glass-effect"},ss={class:"card-content"},ts={class:"buttons is-centered-mobile"},es=["disabled"],is=["disabled"],os={class:"columns"},ls={class:"column"},as={class:"card glass-effect"},cs={class:"card-content"},ds={__name:"Dashboard",setup(ns){const e=v(),c=_(),o=k(!1),n=b(()=>e.locks.slice().sort((i,t)=>new Date(t.lastActivity)-new Date(i.lastActivity)).slice(0,4)),r=async()=>{o.value=!0;const i=e.locks.filter(t=>!t.isLocked&&t.status==="online");for(const t of i)await e.toggleLock(t.id);c.success(`Locked ${i.length} locks`),o.value=!1},u=async()=>{o.value=!0;const i=e.locks.filter(t=>t.isLocked&&t.status==="online");for(const t of i)await e.toggleLock(t.id);c.success(`Unlocked ${i.length} locks`),o.value=!1},h=async()=>{o.value=!0,await new Promise(i=>setTimeout(i,1e3)),c.success("Status refreshed"),o.value=!1};return p(()=>{e.startRealTimeUpdates()}),(i,t)=>(x(),g("div",y,[s("div",z,[t[13]||(t[13]=s("div",{class:"columns"},[s("div",{class:"column"},[s("h1",{class:"title is-2 has-text-white mb-5"},[s("i",{class:"fas fa-tachometer-alt mr-3"}),d(" Dashboard ")])])],-1)),s("div",A,[s("div",B,[s("div",D,[s("div",S,[s("div",C,[s("div",T,[s("div",null,[t[0]||(t[0]=s("p",{class:"heading has-text-white-ter"},"Total Locks",-1)),s("p",R,l(a(e).locks.length),1)])]),t[1]||(t[1]=s("div",{class:"level-right"},[s("i",{class:"fas fa-key is-size-3-mobile is-size-2-desktop has-text-info"})],-1))])])])]),s("div",U,[s("div",N,[s("div",V,[s("div",G,[s("div",$,[s("div",null,[t[2]||(t[2]=s("p",{class:"heading has-text-white-ter"},"Online",-1)),s("p",q,l(a(e).onlineLocks.length),1)])]),t[3]||(t[3]=s("div",{class:"level-right"},[s("i",{class:"fas fa-wifi is-size-3-mobile is-size-2-desktop has-text-success"})],-1))])])])]),s("div",E,[s("div",I,[s("div",M,[s("div",O,[s("div",P,[s("div",null,[t[4]||(t[4]=s("p",{class:"heading has-text-white-ter"},"Locked",-1)),s("p",Q,l(a(e).lockedCount),1)])]),t[5]||(t[5]=s("div",{class:"level-right"},[s("i",{class:"fas fa-lock is-size-3-mobile is-size-2-desktop has-text-warning"})],-1))])])])]),s("div",j,[s("div",F,[s("div",H,[s("div",J,[s("div",K,[s("div",null,[t[6]||(t[6]=s("p",{class:"heading has-text-white-ter"},"Low Battery",-1)),s("p",W,l(a(e).lowBatteryLocks.length),1)])]),t[7]||(t[7]=s("div",{class:"level-right"},[s("i",{class:"fas fa-battery-quarter is-size-3-mobile is-size-2-desktop has-text-danger"})],-1))])])])])]),s("div",X,[s("div",Y,[s("div",Z,[t[11]||(t[11]=s("div",{class:"card-header"},[s("p",{class:"card-header-title has-text-white"},[s("i",{class:"fas fa-bolt mr-2"}),d(" Quick Actions ")])],-1)),s("div",ss,[s("div",ts,[s("button",{class:"button is-success is-rounded touch-button",onClick:r,disabled:o.value},[...t[8]||(t[8]=[s("i",{class:"fas fa-lock mr-2"},null,-1),s("span",{class:"is-hidden-mobile"},"Lock All",-1),s("span",{class:"is-hidden-tablet"},"Lock",-1)])],8,es),s("button",{class:"button is-warning is-rounded touch-button",onClick:u,disabled:o.value},[...t[9]||(t[9]=[s("i",{class:"fas fa-unlock mr-2"},null,-1),s("span",{class:"is-hidden-mobile"},"Unlock All",-1),s("span",{class:"is-hidden-tablet"},"Unlock",-1)])],8,is),s("button",{class:w(["button is-info is-rounded touch-button",{"is-loading":o.value}]),onClick:h},[...t[10]||(t[10]=[s("i",{class:"fas fa-sync mr-2"},null,-1),s("span",{class:"is-hidden-mobile"},"Refresh Status",-1),s("span",{class:"is-hidden-tablet"},"Refresh",-1)])],2)])])])])]),s("div",os,[s("div",ls,[s("div",as,[t[12]||(t[12]=s("div",{class:"card-header"},[s("p",{class:"card-header-title has-text-white"},[s("i",{class:"fas fa-history mr-2"}),d(" Recent Activity ")])],-1)),s("div",cs,[L(f,{locks:n.value},null,8,["locks"])])])])])])]))}},fs=m(ds,[["__scopeId","data-v-d2d6bec7"]]);export{fs as default};
